!function(){"use strict";function a(c){$.ajax({url:c,type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(c){Array.prototype.push.apply(j,c.results),c.meta.next?a(c.meta.next):b()}})}function b(){var a,b,c=[],d=0,e=[];if(i){for(b=0;15>b;b++){for(a=Math.floor(Math.random()*j.length)+1;e.indexOf(a)>=0||!j[a].photo;)a=Math.floor(Math.random()*j.length)+1;e.push(a),c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+j[a].photo.photo_id).attr("href",j[a].link).attr("title",j[a].name))}d=j.length-15}else for(b=0;b<j.length;b++)j[b].photo?c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+j[b].photo.photo_id).attr("href",j[b].link).attr("title",j[b].name)):d++;d&&c.push($("<a/>").attr("href","https://www.meetup.com/JSOxford/members").text("...plus others.")),$("#MeetupMembers").append(c),$("#Members").removeClass("hidden").find("h3").prepend(j.length+" ")}function c(a){var b,c,e,g=new Date(new Date-864e5);for(b=0,c=a.length;c>b;b++){if(a[b].created>g){var h=d(a[b],!0);eventElements.push(h)}a[b].updated>g&&(e=new Date(a[b].time),$("[data-date^="+formatDate(e)+"]").has(".meetupIcon").each(function(){$(this).find(".title").text(a[b].name),$(this).find(".postContent").html(a[b].description),$(this).find(".attendees").text(a[b].yes_rsvp_count)}))}eventElements=f(eventElements),$(outputTarget).append(eventElements)}function d(a,b){var c=new Date(a.time),d=$("<div/>"),f=$("<h2/>"),g=$("<a/>"),h=$("<img/>").attr("src","/img/meetup.png").attr("alt","Meetup"),i=$("<div/>");return d.addClass("post"),d.data("date",c.getFullYear()+"-"+(c.getMonth()<9?"0":"")+(c.getMonth()+1)+"-"+c.getDate()),f.addClass("post-title row"),i.addClass("col-xs-9"),i.append(h),g.attr("href",a.event_url),g.text(a.name),i.append(g),f.append(i),f.append(e(a,b)),d.append(f),d.append(a.description),d}function e(a,b){var c=new Date(a.time),d=c.getHours()>=12?"PM":"AM",e=$("<div/>").addClass("eventInfo col-xs-3"),f=c.toDateString().split(" "),g=f[1],h=f[0],i=$("<span/>").addClass("eventDate").text(h+" "+g+" "+c.getDate()+" "),j=$("<span/>").addClass("eventTime").text((c.getHours()>=12?c.getHours()-12:c.getHours())+":"+(c.getMinutes()<10?"0":"")+c.getMinutes()+" "+d),k=b?"going":"went",l=$("<a/>").attr("href",a.event_url).text(a.yes_rsvp_count+" "+k);if(e.append(i).append(j).append(l),b){var m=$("<a/>").attr("href",a.event_url).text(a.rsvp_limit-a.yes_rsvp_count+" spots left");e.append(m)}return e}function f(a){var b=a.sort(function(a,b){if(a.data("date")&&b.data("date")){var c=new Date(a.data("date").toString().split(" ")[0]),d=new Date(b.data("date").toString().split(" ")[0]);return c===d?0:d>c?1:-1}});return b}var g="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&photo-host=secure&page=100&fields=&order=time&status=past%2Cupcoming&desc=false&sig_id=153356042&sig=66887b77c34d304571d20465b10229ce582b7e02",h="https://api.meetup.com/2/members?offset=0&format=json&group_id=17778422&only=photo%2Cname%2Clink&photo-host=secure&page=200&order=name&sig_id=153356042&sig=4d8e3265b4374b84aabb8efcc26eb8107a3ec81b",i=(window.maxEventsToShow||10,window.matchMedia&&window.matchMedia("(max-width: 600px)").matches),j=[];a(h),$.ajax({url:g+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){c(a.results)}})}();
//# sourceMappingURL=script.js.map
!function(){function a(b){$.ajax({url:b,type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(b){Array.prototype.push.apply(o,b.results),b.meta.next?a(b.meta.next):f()}})}function b(a,b){var d=new Date(a.time),e=$("<div/>"),f=$("<h2/>"),g=$("<a/>"),h=$("<img/>").attr("src","/img/meetup.png").attr("alt","Meetup"),i=$("<div/>");return e.addClass("post"),e.data("date",d.getFullYear()+"-"+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+"-"+d.getDate()),f.addClass("post-title row"),i.addClass("col-xs-9"),i.append(h),g.attr("href",a.event_url),g.text(a.name),i.append(g),f.append(i),f.append(c(a,b)),e.append(f),e.append(a.description),e}function c(a,b){var c=new Date(a.time),d=c.getHours()>=12?"PM":"AM",e=$("<div/>").addClass("eventInfo col-xs-3"),f=$("<span/>").addClass("eventDate").text(g[c.getDay()]+" "+h[c.getMonth()]+" "+c.getDate()+" "),i=$("<span/>").addClass("eventTime").text((c.getHours()>=12?c.getHours()-12:c.getHours())+":"+(c.getMinutes()<10?"0":"")+c.getMinutes()+" "+d),j=b?"going":"went",k=$("<a/>").attr("href",a.event_url).text(a.yes_rsvp_count+" "+j);if(e.append(f).append(i).append(k),b){var l=$("<a/>").attr("href",a.event_url).text(a.rsvp_limit-a.yes_rsvp_count+" spots left");e.append(l)}return e}function d(){n.length>0&&$("#UpcomingEvents").empty().append(b(n[0],!0))}function e(){if(m.length>0){var a=[];$("#PastEvents .post").each(function(){a.push($(this))});for(var c=0;c<m.length;c++)a.push(b(m[c],!1));a.sort(function(a,b){var c=new Date(a.data("date").toString().split(" ")[0]),d=new Date(b.data("date").toString().split(" ")[0]);return c===d?0:d>c?1:-1}),$("#PastEvents").empty().append(a)}}function f(){var a,b,c=[],d=0,e=[];if(l){for(b=0;15>b;b++){for(a=Math.floor(Math.random()*o.length)+1;e.indexOf(a)>=0||!o[a].photo;)a=Math.floor(Math.random()*o.length)+1;e.push(a),c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+o[a].photo.photo_id).attr("href",o[a].link).attr("title",o[a].name))}d=o.length-15}else for(b=0;b<o.length;b++)o[b].photo?c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+o[b].photo.photo_id).attr("href",o[b].link).attr("title",o[b].name)):d++;d&&c.push($("<a/>").attr("href","https://www.meetup.com/JSOxford/members").text("...plus others.")),$("#MeetupMembers").append(c),$("#Members").removeClass("hidden").find("h3").prepend(o.length+" ")}var g=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=40&fields=&order=time&status=past&desc=false&sig_id=153356042&sig=7c33ad50321a70d19f843d60c0c2eaee08b67d09",j="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=20&fields=&order=time&desc=false&status=upcoming&sig_id=153356042&sig=84e9ac6ce37bdb3c00e4f82fe5a7ce798865fbe4",k="https://api.meetup.com/2/members?offset=0&format=json&group_id=17778422&only=photo%2Cname%2Clink&photo-host=secure&page=200&order=name&sig_id=153356042&sig=4d8e3265b4374b84aabb8efcc26eb8107a3ec81b",l=window.matchMedia&&window.matchMedia("(max-width: 600px)").matches,m=[],n=[],o=[];$.ajax({url:j+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){n=a.results,d()}}),$.ajax({url:i+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){m=a.results,e()}}),a(k)}();
//# sourceMappingURL=script.js.map
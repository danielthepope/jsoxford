!function(){"use strict";function a(b){$.ajax({url:b,type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(b){Array.prototype.push.apply(j,b.results),b.meta.next?a(b.meta.next):d()}})}function b(a,b){var d=new Date(a.time),e=$("<div/>"),f=$("<h2/>"),g=$("<a/>"),h=$("<img/>").attr("src","/img/meetup.png").attr("alt","Meetup"),i=$("<div/>");return e.addClass("post"),e.data("date",d.getFullYear()+"-"+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+"-"+d.getDate()),f.addClass("post-title row"),i.addClass("col-xs-9"),i.append(h),g.attr("href",a.event_url),g.text(a.name),i.append(g),f.append(i),f.append(c(a,b)),e.append(f),e.append(a.description),e}function c(a,b){var c=new Date(a.time),d=c.getHours()>=12?"PM":"AM",e=$("<div/>").addClass("eventInfo col-xs-3"),f=c.toDateString().split(" "),g=f[1],h=f[0],i=$("<span/>").addClass("eventDate").text(h+" "+g+" "+c.getDate()+" "),j=$("<span/>").addClass("eventTime").text((c.getHours()>=12?c.getHours()-12:c.getHours())+":"+(c.getMinutes()<10?"0":"")+c.getMinutes()+" "+d),k=b?"going":"went",l=$("<a/>").attr("href",a.event_url).text(a.yes_rsvp_count+" "+k);if(e.append(i).append(j).append(l),b){var m=$("<a/>").attr("href",a.event_url).text(a.rsvp_limit-a.yes_rsvp_count+" spots left");e.append(m)}return e}function d(){var a,b,c=[],d=0,e=[];if(i){for(b=0;15>b;b++){for(a=Math.floor(Math.random()*j.length)+1;e.indexOf(a)>=0||!j[a].photo;)a=Math.floor(Math.random()*j.length)+1;e.push(a),c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+j[a].photo.photo_id).attr("href",j[a].link).attr("title",j[a].name))}d=j.length-15}else for(b=0;b<j.length;b++)j[b].photo?c.push($("<a/>").addClass("memberThumbnail icon-thumb_"+j[b].photo.photo_id).attr("href",j[b].link).attr("title",j[b].name)):d++;d&&c.push($("<a/>").attr("href","https://www.meetup.com/JSOxford/members").text("...plus others.")),$("#MeetupMembers").append(c),$("#Members").removeClass("hidden").find("h3").prepend(j.length+" ")}var e="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=40&fields=&order=time&status=past&desc=false&sig_id=153356042&sig=7c33ad50321a70d19f843d60c0c2eaee08b67d09",f="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=20&fields=&order=time&desc=false&status=upcoming&sig_id=153356042&sig=84e9ac6ce37bdb3c00e4f82fe5a7ce798865fbe4",g="https://api.meetup.com/2/members?offset=0&format=json&group_id=17778422&only=photo%2Cname%2Clink&photo-host=secure&page=200&order=name&sig_id=153356042&sig=4d8e3265b4374b84aabb8efcc26eb8107a3ec81b",h=window.maxEventsToShow||10,i=window.matchMedia&&window.matchMedia("(max-width: 600px)").matches,j=[];$.ajax({url:f+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){k(a.results,!0)}}),$.ajax({url:e+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){k(a.results,!1)}}),a(g);var k=function(a,c){var d=[],e=c?"#UpcomingEvents":"#PastEvents";if(!c){var f=$(".post",e);f.length&&f.each(function(){d.push($(this))})}if(a.length)for(var g=0;h>g;g++)if(void 0!==a[g]){var i=b(a[g],c);d.push(i)}d=l(d),d=d.splice(0,h),$(e).empty().append(d)},l=function(a){var b=a.sort(function(a,b){if(a.data("date")&&b.data("date")){var c=new Date(a.data("date").toString().split(" ")[0]),d=new Date(b.data("date").toString().split(" ")[0]);return c===d?0:d>c?1:-1}});return b}}();
//# sourceMappingURL=script.js.map
!function(){function a(a,c){var d=new Date(a.time),e=$("<div/>"),f=$("<h2/>"),g=$("<a/>"),h=$("<img/>").attr("src","/img/meetup.png").attr("alt","Meetup");return e.addClass("post"),e.data("date",d.getFullYear()+"-"+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+"-"+d.getDate()),f.addClass("post-title"),f.append(h),g.attr("href",a.event_url),g.text(a.name),f.append(g),f.append(b(a,c)),e.append(f),e.append(a.description),e}function b(a,b){var c=new Date(a.time),d=c.getHours()>=12?"PM":"AM",e=$("<div/>").addClass("eventInfo"),h=$("<span/>").addClass("eventDate").text(f[c.getDay()]+" "+g[c.getMonth()]+" "+c.getDate()+" "),i=$("<span/>").addClass("eventTime").text((c.getHours()>=12?c.getHours()-12:c.getHours())+":"+(c.getMinutes()<10?"0":"")+c.getMinutes()+" "+d),j=b?"going":"went",k=$("<a/>").attr("href",a.event_url).text(a.yes_rsvp_count+" "+j);if(e.append(h).append(i).append(k),b){var l=$("<a/>").attr("href",a.event_url).text(a.rsvp_limit-a.yes_rsvp_count+" spots left");e.append(l)}return e}function c(){if(m.length>0){$("#UpcomingEvents").empty();for(var b=0;b<m.length;b++)$("#UpcomingEvents").append(a(m[b],!0))}}function d(){if(l.length>0){var b=[];$("#PastEvents .post").each(function(){b.push($(this))});for(var c=0;c<l.length;c++)b.push(a(l[c],!1));b.sort(function(a,b){var c=new Date(a.data("date").toString().split(" ")[0]),d=new Date(b.data("date").toString().split(" ")[0]);return c===d?0:d>c?1:-1}),$("#PastEvents").empty().append(b)}}function e(){var a,b,c=[],d=0,e=[];if(k){for(b=0;15>b;b++){for(a=Math.floor(Math.random()*n.length)+1;e.indexOf(a)>=0||!n[a].photo;)a=Math.floor(Math.random()*n.length)+1;e.push(a),c.push($("<a/>").addClass("memberThumbnail").attr("href",n[a].link).attr("title",n[a].name).css("background-image","url("+n[a].photo.thumb_link+")"))}d=n.length-15}else for(b=0;b<n.length;b++)n[b].photo?c.push($("<a/>").addClass("memberThumbnail").attr("href",n[b].link).attr("title",n[b].name).css("background-image","url("+n[b].photo.thumb_link+")")):d++;d&&c.push($("<a/>").attr("href","https://www.meetup.com/JSOxford/members").text("...plus "+d+" others.")),$("#MeetupMembers").append(c),$("#Members").removeClass("hidden").find("h3").prepend(n.length+" ")}var f=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=40&fields=&order=time&status=past&desc=false&sig_id=153356042&sig=7c33ad50321a70d19f843d60c0c2eaee08b67d09",i="https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_id=17778422&only=time%2Cevent_url%2Cname%2Cdescription%2Cyes_rsvp_count%2Crsvp_limit&photo-host=secure&page=20&fields=&order=time&desc=false&status=upcoming&sig_id=153356042&sig=84e9ac6ce37bdb3c00e4f82fe5a7ce798865fbe4",j="https://api.meetup.com/2/members?offset=0&format=json&group_id=17778422&only=photo%2Cname%2Clink&photo-host=secure&page=200&order=name&sig_id=153356042&sig=4d8e3265b4374b84aabb8efcc26eb8107a3ec81b",k=window.matchMedia&&window.matchMedia("(max-width: 600px)").matches,l=[],m=[],n=[];$.ajax({url:i+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){m=a.results,c()}}),$.ajax({url:h+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){l=a.results,d()}}),$.ajax({url:j+"&offset=0",type:"GET",cache:!1,dataType:"jsonp",crossDomain:!0,success:function(a){n=a.results,e()}})}();
//# sourceMappingURL=script.js.map